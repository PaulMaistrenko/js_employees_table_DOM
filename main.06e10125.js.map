{"version":3,"sources":["scripts/main.js"],"names":["body","document","querySelector","sortParam","sortList","clickCount","sortListAscOrder","index","resultList","rows","sort","a","b","rowA","cells","innerText","replace","rowB","localeCompare","sortListDescOrder","addEventListener","e","indexTarget","sortedList","target","cellIndex","append","row","closest","isActive","classList","remove","add","insertAdjacentHTML","resultMessage","title","description","result","divMes","createElement","titleMes","textMes","dataset","qa","textContent","setTimeout","form","preventDefault","formData","FormData","tr","textArray","get","length","i","td","num","parseInt","toLocaleString","querySelectorAll","value","text","input","name","type","focus","inputText","ev","code"],"mappings":"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","file":"main.06e10125.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst sortParam = document.querySelector('thead');\nconst sortList = document.querySelector('tbody');\nlet clickCount = 0;\n\n/* Add event for sorting of table in two directions */\n\nsortParam.addEventListener('click', (e) => {\n  const indexTarget = e.target.cellIndex;\n  let sortedList;\n\n  if (clickCount === 0) {\n    sortedList = sortListAscOrder(indexTarget);\n\n    clickCount = 1;\n  } else {\n    sortedList = sortListDescOrder(indexTarget);\n    clickCount = 0;\n  }\n\n  sortList.append(...sortedList);\n});\n\nfunction sortListAscOrder(index) {\n  const resultList = [...sortList.rows].sort((a, b) => {\n    const rowA = a.cells[index].innerText.replace('$', '').replace(',', '');\n    const rowB = b.cells[index].innerText.replace('$', '').replace(',', '');\n\n    if (index <= 2) {\n      return rowA.localeCompare(rowB);\n    } else {\n      return rowA - rowB;\n    }\n  });\n\n  return resultList;\n}\n\nfunction sortListDescOrder(index) {\n  const resultList = [...sortList.rows].sort((a, b) => {\n    const rowA = a.cells[index].innerText.replace('$', '').replace(',', '');\n    const rowB = b.cells[index].innerText.replace('$', '').replace(',', '');\n\n    if (index <= 2) {\n      return rowB.localeCompare(rowA);\n    } else {\n      return rowB - rowA;\n    }\n  });\n\n  return resultList;\n}\n\n/* Add event of selection for row */\n\nsortList.addEventListener('click', (e) => {\n  const row = e.target.closest('tr');\n  const isActive = document.querySelector('.active');\n\n  if (!isActive) {\n    row.classList.add('active');\n  } else {\n    isActive.classList.remove('active');\n    row.classList.add('active');\n  }\n});\n\n/* Add form for input of new employee */\n\nbody.insertAdjacentHTML('beforeend',\n  `<form class=\"new-employee-form\"> \n      <label>Name:\n        <input name=\"name\" type=\"text\" data-qa=\"name\">\n      </label>\n      <label>Position:\n        <input name=\"position\" type=\"text\" data-qa=\"position\">\n      </label>\n      <label> Office:\n        <select name=\"office\" data-qa=\"office\" >\n         <option value=\"Tokyo\">Tokyo</option>\n         <option value=\"Singapore\">Singapore</option>\n         <option value=\"London\">London</option>\n         <option value=\"New York\">New York</option>\n         <option value=\"Edinburgh\">Edinburgh</option>\n         <option value=\"San Francisco\">San Francisco</option>\n        </select>\n      </label>\n      <label>Age:\n        <input name=\"age\" type=\"number\" data-qa=\"age\">\n      </label>\n      <label>Salary:\n        <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n      </label>\n      <button>Save to table</button>\n     </form>`\n);\n\n/* Add message after new input */\n\nconst resultMessage = (title, description, result) => {\n  const divMes = document.createElement('div');\n  const titleMes = document.createElement('title');\n  const textMes = document.createElement('p');\n\n  divMes.classList = 'notification';\n  divMes.dataset.qa = 'notification';\n  divMes.classList.add(result);\n  titleMes.classList = 'title';\n  titleMes.textContent = title;\n  textMes.textContent = description;\n\n  divMes.append(titleMes);\n  divMes.append(textMes);\n  body.append(divMes);\n\n  setTimeout(() => {\n    divMes.remove();\n  }, 3000);\n};\n\n/* Add new row to table throughout form */\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const tr = document.createElement('tr');\n  const textArray = [\n    formData.get('name'),\n    formData.get('position'),\n    formData.get('office'),\n    formData.get('age'),\n    formData.get('salary'),\n  ];\n\n  if (formData.get('name').length < 4) {\n    resultMessage('Incorrect Name!',\n      'Name should have at least 4 letters.', 'error');\n\n    return;\n  }\n\n  if (!formData.get('name') || !formData.get('position')\n    || !formData.get('age') || !formData.get('salary')) {\n    resultMessage('Error', 'Not all field have data.', 'error');\n\n    return;\n  }\n\n  if (formData.get('age') < 18 || formData.get('age') > 90) {\n    resultMessage('Incorrect Age',\n      'Age can\\'t be less than 18 or more than 90.', 'error');\n\n    return;\n  }\n\n  for (let i = 0; i < textArray.length; i++) {\n    const td = document.createElement('td');\n\n    if (i === textArray.length - 1) {\n      const num = parseInt(textArray[i]);\n\n      td.textContent = `$${num.toLocaleString('en-US')}`;\n    } else {\n      td.textContent = textArray[i];\n    }\n\n    tr.append(td);\n  }\n\n  sortList.append(tr);\n\n  resultMessage('Added new row.',\n    'New data were added to the table.', 'success');\n\n  for (let i = 0; i < [...form.querySelectorAll('input')].length; i++) {\n    form.querySelectorAll('input')[i].value = null;\n  }\n});\n\n/* Edit row of table */\n\nsortList.addEventListener('dblclick', e => {\n  const target = e.target;\n  const text = target.textContent;\n  const input = document.createElement('input');\n\n  input.classList = 'cell-input';\n  input.name = 'text';\n  input.type = 'text';\n  target.textContent = null;\n\n  target.append(input);\n  input.focus();\n\n  const inputText = document.querySelector('.cell-input');\n\n  input.addEventListener('keydown', ev => {\n    if (ev.code === 'Enter') {\n      if (inputText.value.length === 0) {\n        target.textContent = text;\n      }\n\n      if (target.cellIndex < 3) {\n        if (inputText.value.length < 4) {\n          resultMessage('Incorrect Input Data.',\n            'Text should have at least 4 letters.', 'error');\n          target.textContent = text;\n        } else {\n          target.textContent = inputText.value;\n        }\n      }\n\n      if (target.cellIndex === 3) {\n        if (parseInt(inputText.value)) {\n          if (parseInt(inputText.value) < 18\n          || parseInt(inputText.value > 90)) {\n            resultMessage('Incorrect Age',\n              'Age can\\'t be less than 18 or more than 90.', 'error');\n            target.textContent = text;\n          } else {\n            target.textContent = inputText.value;\n          }\n        } else {\n          resultMessage('Not a number',\n            'Add number from 18 to 90.', 'error');\n          target.textContent = text;\n        }\n      }\n\n      if (target.cellIndex === 4) {\n        if (parseInt(inputText.value)) {\n          target.textContent = `\n          $${parseInt(inputText.value).toLocaleString('en-US')}`;\n        } else {\n          resultMessage('Not a number', 'Please add number', 'error');\n          target.textContent = text;\n        }\n      }\n    }\n  });\n\n  input.addEventListener('blur', ev => {\n    if (inputText.value.length === 0) {\n      target.textContent = text;\n    }\n\n    if (target.cellIndex < 3) {\n      if (inputText.value.length < 4) {\n        resultMessage('Incorrect Input Data.',\n          'Text should have at least 4 letters.', 'error');\n        target.textContent = text;\n      } else {\n        target.textContent = inputText.value;\n      }\n    }\n\n    if (target.cellIndex === 3) {\n      if (parseInt(inputText.value)) {\n        if (parseInt(inputText.value) < 18\n        || parseInt(inputText.value > 90)) {\n          resultMessage('Incorrect Age',\n            'Age can\\'t be less than 18 or more than 90.', 'error');\n          target.textContent = text;\n        } else {\n          target.textContent = inputText.value;\n        }\n      } else {\n        resultMessage('Not a number',\n          'Add number from 18 to 90.', 'error');\n        target.textContent = text;\n      }\n    }\n\n    if (target.cellIndex === 4) {\n      if (parseInt(inputText.value)) {\n        target.textContent = `\n        $${parseInt(inputText.value).toLocaleString('en-US')}`;\n      } else {\n        resultMessage('Not a number', 'Please add number', 'error');\n        target.textContent = text;\n      }\n    }\n  });\n});\n"]}